/**
 * Generated stuff...
 */

import {Injectable} from 'angular2/core'
import {Http, Headers, RequestOptions, Response} from 'angular2/http';

/**
 * Request and response types and enumerations.
 */
<% types.forEach(function(type) { %>
    <%- include('type-' + type.type, {type: type}) %>
<% }); %>

/**
 * Services stuff
 */
<% services.forEach(function(service) { %>
    <%- include('service', {service: service, types: types}) %>
<% }); %>

function substitudeUrl(url: string, args: Object) : string {
    for (var key : string in args) {
        url = url.replace('{' + key + '}', args[key]);
    }
    return url;
}

function getRequestOptions(requestMediaType: string, responseMediaType: string) : RequestOptions {
    var headers : Headers = new Headers();
    headers.append('Accept', responseMediaType);
    headers.append('Content-Type', requestMediaType);
    var options : RequestOptions = new RequestOptions();
    options.headers = headers;
    return options;
}
