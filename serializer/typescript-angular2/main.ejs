/**
 * Generated stuff...
 */

import {Injectable} from 'angular2/core'
import {Http, Headers, RequestOptions, Response} from 'angular2/http';

/**
 * Request and response types and enumerations.
 */
<% types.forEach(function(type) { %>
    <%- include('type-' + type.type, {type: type}) %>
<% }); %>

/**
 * Services stuff
 */
<% services.forEach(function(service) { %>
    <%- include('service', {service: service, types: types}) %>
<% }); %>

function substitudeUrl(url: string, values: Object): string {
    Object.keys(values).map(key => {
        url = url.replace('{' + encodeURIComponent(key) + '}', encodeURIComponent(values[key]));
    });
    return url;
}

function encodeParams(values: Object): string {
    return Object.keys(values).map(key => {
      return encodeURIComponent(key) + '=' + encodeURIComponent(values[key]);
    }).join('&');
}

function getRequestOptions(requestMediaType: string, responseMediaType: string): RequestOptions {
    var headers: Headers = new Headers();
    headers.append('Accept', responseMediaType);
    headers.append('Content-Type', requestMediaType);
    var options: RequestOptions = new RequestOptions();
    options.headers = headers;
    return options;
}
